<script>
  const sportEmojis = {
    SOCCER: "⚽",
    BASKETBALL: "🏀",
    BASEBALL: "⚾",
    ICEHOCKEY: "🏒",
    AMERICANFOOTBALL: "🏈",
    RUGBYLEAGUE: "🏉",
    AUSSIERULES: "🏉",
    // … puedes ampliar con más
  };

  const params = new URLSearchParams(location.search);
  const dataParam = params.get("data");
  let config;
  try {
    config = dataParam && JSON.parse(decodeURIComponent(dataParam));
  } catch {
    config = null;
  }

  const infoEl   = document.getElementById("info");
  const calcBtn  = document.getElementById("calc");
  const resEl    = document.getElementById("results");
  const errorEl  = document.getElementById("error");

  if (!config) {
    errorEl.textContent = 'No data provided. Open via the surebet alert link.';
    calcBtn.disabled = true;
  } else {
    const m = config.match;
    // Obtener clave de deporte (antes de guión bajo) en mayúsculas
    const sportKey = m.sport.split("_")[0].toUpperCase();
    // Buscar emoji o usar 🎯 por defecto
    const emoji = sportEmojis[sportKey] || "🎯";

    infoEl.innerHTML = `
      <h2>${m.home} vs ${m.away}</h2>
      <p>
        ${emoji} ${sportKey.replace(/_/g, " ")}<br />
        <span>📅 ${m.time}</span>
      </p>
    `;
  }

  // resto sin cambios…
</script>
